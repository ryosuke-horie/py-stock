# py-stock

株式投資の投資タイミングの見極めをPython x Claude Code x MCPでやってみる試み

## 必要そうなもの

### データ収集・処理基盤

- 株価データの取得: yfinance、Alpha Vantage、QuandlなどのAPIを使った価格・出来高データの収集
- ファンダメンタルデータ: 財務諸表、業績予想、企業指標の取得
- マクロ経済指標: 金利、為替、経済統計データ
- ニュース・センチメント分析: 企業関連ニュースの収集と感情分析

### 分析・予測モデル

- テクニカル分析: 移動平均、RSI、MACD、ボリンジャーバンドなどの指標計算
- 機械学習モデル: 価格予測、トレンド分析、パターン認識
- リスク分析: VaR、シャープレシオ、相関分析
- バックテスト機能: 戦略の過去データでの検証

### MCP統合アーキテクチャ

- データソース用MCP: 各種API（株価、ニュース、経済指標）をMCPサーバとして統合
- 分析エンジン用MCP: 分析結果をClaude Codeから呼び出し可能にする
- アラート・通知システム: 投資タイミングの判定結果を通知

### 実装に必要な技術スタック

- Python: pandas, numpy, scikit-learn, tensorflow/pytorch
- データベース: PostgreSQL/SQLiteでの履歴データ管理
- 可視化: matplotlib, plotly, streamlitでのダッシュボード
- MCP開発: TypeScript/Pythonでのサーバ実装

## 最初に対応する方法はデイトレードを検討中

- リアルタイム性と短期の価格変動分析が重要

### リアルタイムデータ基盤

- 高頻度価格データ: 1分足、5分足の価格・出来高データ
- 板情報: 買い板・売り板の厚みとスプレッド分析
- 取引量分析: 異常出来高の検知、VWAP計算
- リアルタイム更新: WebSocketやストリーミングAPIの活用

### デイトレード特化の分析指標

- 短期テクニカル: EMA（9, 21）、RSI（14）、ストキャスティクス
- サポート・レジスタンス: 直近の高値・安値、ピボットポイント
- ブレイクアウト検知: 価格帯・パターンブレイクの自動検出
- モメンタム分析: 価格変化率、加速度の計算

### エントリー・エグジット判定

- エントリーシグナル: 複数指標の組み合わせ条件
- ストップロス設定: 動的なリスク管理
- 利確ポイント: リスクリワード比の最適化
- タイムアウト: 時間ベースの決済ルール

### MCP構成例
```
MCP Stock Data Server (リアルタイム価格配信)
├── MCP Technical Analysis Server (指標計算)
├── MCP Signal Generator Server (売買判定)
└── MCP Risk Manager Server (リスク管理)
```

## Claude Codeでの実行フロー

- 市況確認とウォッチリスト更新
- 各銘柄の短期分析実行
- エントリー機会の検出とアラート
- ポジション管理と利確・損切り判定
